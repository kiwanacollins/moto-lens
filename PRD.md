# üìÑ PRODUCT REQUIREMENTS DOCUMENT (PRD)

## Product Name
**MOTO LENS**

*"Scan the VIN. See the car. Know the parts."*

---

## Product Overview

### Product Type
**Progressive Web Application (PWA)**
- Mobile-first
- Installable
- Offline-tolerant
- Web-technology based

### Target Users

#### Primary Users
- Garage mechanics
- Auto repair technicians
- Small to medium garages

#### Vehicle Focus
üá©üá™ **German vehicles only:**
- BMW
- Audi
- Mercedes-Benz
- Volkswagen
- Porsche

### Primary Use Case
A mechanic enters a VIN ‚Üí the app decodes the car ‚Üí displays a realistic visual representation ‚Üí mechanic taps parts ‚Üí sees part details & spare part guidance.

**The app should feel like a native mobile app, despite being web-based.**

---

## üéØ Product Goals (MVP)

1. Decode VIN into accurate vehicle metadata
2. Visually represent the car in an interactive 360¬∞ view
3. Allow tap-based part identification
4. Deliver clean, brief, professional-looking info
5. Use AI invisibly (no "this was generated by AI" feel)
6. Stay under **$1,000 total budget**
7. Support 1‚Äì2 daily users with no scalability pressure

---

## üß± Tech Stack

### Frontend
- **React** (via Vite)
- **Vite** (build tool)
- **Mantine UI**
  - Premium components
  - Mobile-friendly
  - Dark mode support
  - Smooth animations

### PWA Setup
- **vite-plugin-pwa**
  - Installable on mobile
  - Standalone app mode
  - Basic service worker (shell caching only)

### Backend (Lightweight)
- **Node.js** (Express or serverless)
- **Responsibilities:**
  - VIN decoding via VINLink API
  - AI image generation via Gemini / Imagen
  - Aggregating AI-generated vehicle & parts info
  - Acting as a single clean API for the frontend

### AI Services
- **Google Gemini / Imagen API**
  - Vehicle images (multi-angle)
  - Parts descriptions
  - Spare-part explanations
  - Short, professional summaries

---

## üé® Design System

### Color Palette
- **Carbon Black** - Primary background, headers
- **Gunmetal Gray** - Secondary elements, cards, borders
- **Electric Blue** - Accents, CTAs, active states, highlights

### Typography
- **Inter** (Primary) - All UI text, headings, body copy
- **JetBrains Mono** - VIN display, technical data, code-like elements

### Design Philosophy
This combination:
- ‚úÖ Looks premium
- ‚úÖ Feels professional
- ‚úÖ Works in real garages (high contrast, glare-resistant)
- ‚úÖ Scales beautifully across devices

---

## üß† Core Feature Set (MVP)

### 0Ô∏è‚É£ Authentication (Dummy Auth)

#### Login Page
- Simple, clean login form
- **Credentials (hardcoded for MVP):**
  - Username: `admin`
  - Password: `admin`
- No real authentication backend
- Session stored in localStorage
- Auto-logout on browser close (optional)
- Mobile-optimized layout with brand colors

#### User Flow
1. User opens app ‚Üí sees login page
2. Enters credentials
3. On success ‚Üí navigate to VIN input page
4. Invalid credentials ‚Üí show error message

### 1Ô∏è‚É£ VIN Lookup & Validation

#### User Flow
1. User inputs VIN
2. VIN format validated (17 characters)
3. Submit ‚Üí backend request

#### VIN Metadata Returned
- Make
- Model
- Year
- Trim (if available)
- Engine
- Body type
- Manufacturer

### üîå VIN API (FINAL DECISION)
**‚úÖ Auto.dev API**

#### Why Auto.dev is the best fit
- **1,000 FREE API calls/month** (covers entire MVP usage)
- True pay-as-you-go: **$0.004 per call** after free tier
- No subscription or monthly commitment required
- Global coverage including European & German vehicles
- Developer-friendly with excellent documentation
- At 1-2 users/day (~60 calls/month), stays **FREE indefinitely**
- Predictable, transparent pricing
- Perfect for low-usage MVP scenarios

#### Cost Projection
- **Month 1‚Äì‚àû:** $0 (under 1,000 free calls)
- **Even at 1,000 calls/month:** Only $4
- **Well within $1,000 budget:** ‚úÖ

#### Role
- VIN ‚Üí authoritative vehicle metadata
- **Auto.dev is the source of truth**
- AI only enhances, never replaces VIN data

---

### 2Ô∏è‚É£ Pseudo-3D Car Viewer (CORE EXPERIENCE)

‚ö†Ô∏è **No real 3D models. No WebGL. No Three.js.**

**Instead:**

‚úÖ **360¬∞ Image-Sequence Viewer**

#### Library
**react-360-view** (recommended)

#### Why this is perfect
- Designed exactly for this use case
- Drag / swipe rotation
- Mobile-first
- Lightweight
- No GPU stress
- Works beautifully in PWAs

#### Implementation
- 8‚Äì16 AI-generated images per car
- Simulated 3D rotation illusion

#### Angles
- Front
- Front-Left
- Left
- Rear-Left
- Rear
- Rear-Right
- Right
- Front-Right

*This is the same technique used by car configurators and e-commerce giants.*

---

### 3Ô∏è‚É£ AI Image Generation Flow (Automated)

Images are generated on-demand using **Gemini / Imagen**.

#### Workflow
```
VIN decoded ‚Üí Car metadata known
  ‚Üí Generate multi-angle images
  ‚Üí Load into 360¬∞ viewer
```

#### Prompt Template (Reusable)
```
Photorealistic studio image of a {YEAR} {MAKE} {MODEL},
{ANGLE} view,
neutral background,
automotive photography,
realistic lighting,
high detail,
sharp focus
```

Only `{ANGLE}` changes per request.

---

### 4Ô∏è‚É£ Parts Interaction (Smart & Simple)

‚ö†Ô∏è **No complex 3D mesh mapping.**

#### Approach
- SVG hotspots overlaid on the image
- Hotspots defined per angle
- Tap / click opens a modal

#### Modal Content
- Part name
- Short description (AI-enhanced)
- Common spare parts for that component
- Optional AI-generated close-up image

#### AI Usage
- Gemini generates brief, professional explanations
- Output is styled to look like structured data, not AI text

---

## üé® UX / UI Requirements

- **Mobile-first layout**
  - One-hand usage
  - Large tap targets (gloves-friendly)
- **Dark theme with brand colors**
  - Carbon Black backgrounds
  - Gunmetal Gray cards/sections
  - Electric Blue accents
- **Typography**
  - Inter for all UI elements
  - JetBrains Mono for VINs and technical data
- **Minimal text**
- **Visual-first interaction**
- **Smooth transitions** (Mantine)
- **High contrast** (garage lighting optimized)

---

## üß† Data Flow Architecture (MVP ‚Äì No Database)

```
User opens app
      ‚Üì
Login Page (admin/admin)
      ‚Üì
Authenticated
      ‚Üì
User enters VIN
      ‚Üì
Backend API
      ‚Üì
VINLink VIN Decode
      ‚Üì
Vehicle Metadata
      ‚Üì
Gemini / Imagen Image Generation
      ‚Üì
360¬∞ Viewer (react-360-view)
      ‚Üì
SVG Hotspots
      ‚Üì
Parts + Spare Parts Info
```

---

## üß† AI Prompt Engineering Strategy

### Global System Prompt
```
You are an automotive technical assistant used inside a professional garage tool.
Your responses must be:
- factual
- concise
- neutral in tone
- written as structured technical information
- free of speculation
- free of conversational language
- free of AI references

Do NOT mention AI, models, or uncertainty.
If information is not available, omit it.
Use automotive terminology used by professional mechanics.
```

### 1Ô∏è‚É£ Vehicle Summary Prompt
```
Provide a professional vehicle summary using the following data:

Make: {MAKE}
Model: {MODEL}
Year: {YEAR}
Trim: {TRIM}
Engine: {ENGINE}
Body Type: {BODY_TYPE}

Output format:
- Vehicle name (single line)
- Engine and drivetrain
- Body configuration
- Key mechanical characteristics

Limit output to 5 bullet points.
Do not add opinions or explanations.
```

### 2Ô∏è‚É£ Part Identification Prompt
```
Describe the following vehicle component for a professional mechanic:

Vehicle: {YEAR} {MAKE} {MODEL}
Component: {PART_NAME}
Location: {LOCATION}

Output format:
- Component name
- Function (1 sentence)
- Common failure symptoms
- Related spare parts

Keep each bullet short.
Do not include repair instructions.
```

### 3Ô∏è‚É£ Spare Parts Summary Prompt
```
List commonly replaced spare parts related to the following component:

Vehicle: {YEAR} {MAKE} {MODEL}
Component: {PART_NAME}

Output format:
- Part name
- Typical replacement reason

Maximum 5 items.
```

### 4Ô∏è‚É£ Component Compatibility Prompt
```
For the following vehicle, identify compatibility considerations for this component:

Vehicle: {YEAR} {MAKE} {MODEL}
Engine: {ENGINE}
Component: {PART_NAME}

Output format:
- Engine-specific variations
- Trim-level differences (if any)
- Notes for part selection

Omit unavailable data.
```

### Prompt Chaining Strategy
**Do NOT ask Gemini everything at once.**

Instead:
1. VIN summary
2. Vehicle overview
3. Part explanation (on demand)
4. Spare parts list

**Benefits:**
- Reduces hallucination
- Keeps responses clean
- Makes UI feel fast & intentional

---

## üöÄ Future Features (Post-MVP)

- VIN & image caching
- Vehicle history
- Saved garage jobs
- Inventory matching
- Repair cost estimation
- Offline VIN access
- Tablet-optimized garage mode
- Multiple car profiles per VIN

---

## üß† Why This Architecture Is the RIGHT MOVE

‚ùå **What we're avoiding:**
- Expensive 3D assets
- Manual model creation
- Vendor lock-in

‚úÖ **What we're getting:**
- Looks premium
- Feels native
- Cheap to run
- Easy to expand later

---

## üí∞ Budget Constraints

- **Total budget:** Under $1,000
- **Expected usage:** 1‚Äì2 daily users
- **No scalability pressure** in MVP phase

---

## üèÅ Success Criteria

1. ‚úÖ VIN decoded accurately for German vehicles
2. ‚úÖ 360¬∞ car view loads smoothly on mobile
3. ‚úÖ Part identification works via tap
4. ‚úÖ AI output looks professional, not AI-generated
5. ‚úÖ App installs as PWA on mobile devices
6. ‚úÖ Total cost stays under $1,000
7. ‚úÖ Works in typical garage lighting (dark mode)

---

## üìã Out of Scope (MVP)

- Real 3D models
- Complex animations
- Multi-user support
- Database persistence
- Repair instructions
- Parts ordering/e-commerce
- Non-German vehicles
- Desktop optimization

---

*Document Version: 1.0*  
*Last Updated: January 23, 2026*
